services:
  bobfx:
    build:
      context: .
      dockerfile: BobFx.Core/Dockerfile
    container_name: bobfx-app
    ports:
      - "8080:8080"
    environment:   
      # BobFx Configuration (WLED)
      - LED_COUNT=40
      - TARGET_ADDRESS=255.255.255.255
      - TARGET_PORT=21324
      - UPDATE_INTERVAL_MS=10
      
      # Countdown Configuration
      - PRE_COUNTDOWN_TIME_SECONDS=5
      - COUNTDOWN_TIME_SECONDS=600
      - COUNTDOWN_DEVIATION_SECONDS=120


      # ASP.NET Core Configuration
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_URLS=http://+:8080
      - ASPNETCORE_HTTP_PORTS=8080
  
    # Host network mode for Linux production (works for UDP broadcast)
    network_mode: "host"
    
    restart: unless-stopped
